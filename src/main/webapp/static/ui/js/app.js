(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"0b07":function(e,t,n){"use strict";n("e12f")},"223d":function(e,t){},4360:function(e,t,n){"use strict";var r,o,a=n("2b0e"),c=n("2f62"),u={sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},le1600:function(e){return e.app.le1600},layoutLoaded:function(e){return e.app.layoutLoaded},token:function(e){return e.user.token},account:function(e){return e.user.account},courseList:function(e){return e.course.list}},i=u,s=n("bd86"),d=n("9fb0"),f={sidebar:{opened:!0,withoutAnimation:!1},layoutLoaded:!1,device:"desktop",le1600:!0},l=(r={},Object(s["a"])(r,d["a"].SET_LAYOUT_LOADED,(function(e){e.layoutLoaded=!0})),Object(s["a"])(r,d["a"].TOGGLE_DEVICE,(function(e,t){e.device=t})),Object(s["a"])(r,d["a"].LE1600,(function(e,t){e.le1600=t})),r),m={toggleDevice:function(e,t){var n=e.commit;n(d["a"].TOGGLE_DEVICE,t)},le1600:function(e,t){var n=e.commit;n(d["a"].LE1600,t)}},p={namespaced:!0,state:f,mutations:l,actions:m},h=n("75fc"),b=n("db72"),E=(n("ac6a"),n("6762"),n("2fdb"),n("a18c"));function T(e,t,n){return!(e.meta&&e.meta.rights&&e.meta.rights.length>0)||t.some((function(t){return!!e.meta.rights.includes(t)&&(n.push(t),!0)}))}function v(e,t,n){var r=[];return e.forEach((function(e){var o=Object(b["a"])({},e);T(o,t,n)&&(o.children?(o.children=v(o.children,t,n),o.children&&o.children.length>0&&r.push(o)):r.push(o))})),r}var _={routes:[],addRoutes:[],routeRights:[]},O=(o={},Object(s["a"])(o,d["c"].SET_ROUTES,(function(e,t){e.addRoutes=t,e.routes=E["b"].concat(t)})),Object(s["a"])(o,d["c"].SET_RIGHTS,(function(e,t){e.routeRights=t})),o);function g(e,t){null==e.redirect&&e.children&&(e.redirect=[].concat(Object(h["a"])(t),[e.children[0].path]).join("/"),e.children.forEach((function(e){g(e,[].concat(Object(h["a"])(t),[e.path]))})))}var S={generateRoutes:function(e,t){var n=e.commit;return new Promise((function(e){var r=[],o=v(E["asyncRoutes"],t,r);o.forEach((function(e){return g(e,[e.path])})),n(d["c"].SET_ROUTES,o),n(d["c"].SET_RIGHTS,r),e(o)}))}},w={namespaced:!0,state:_,mutations:O,actions:S},j=n("b775");function R(){return Object(j["a"])({url:"/inspect/me/info",method:"get"})}var L,A=n("a78e"),y=n.n(A),k="vue_admin_template_token";function C(){return y.a.remove(k)}var U={token:"",account:"",name:"",pageRights:[]},G=(L={},Object(s["a"])(L,d["d"].SET_TOKEN,(function(e,t){e.token=t})),Object(s["a"])(L,d["d"].SET_ACCOUNT,(function(e,t){e.account=t})),Object(s["a"])(L,d["d"].SET_NAME,(function(e,t){e.name=t})),Object(s["a"])(L,d["d"].SET_PAGE_RIGHTS,(function(e,t){e.pageRights=t})),L),I={getInfo:function(e){var t=e.commit;e.state;return new Promise((function(e,n){R().then((function(n){t(d["d"].SET_TOKEN,"123455"),t(d["d"].SET_ACCOUNT,"jhge"),t(d["d"].SET_NAME,"测试"),e(n)})).catch((function(e){n(e)}))}))},logout:function(e){var t=e.commit;e.state;return new Promise((function(e,n){t(d["d"].SET_TOKEN,""),t(d["d"].SET_PAGE_RIGHTS,[]),t(d["d"].SET_HANDLE_RIGHTS,[]),C(),Object(E["d"])(),e()}))}},N={namespaced:!0,state:U,mutations:G,actions:I},P=function(){return Object(j["a"])({method:"get",url:"/party/my/course/list"})},D={list:[]},M=Object(s["a"])({},d["b"].SET_COURSE_LIST,(function(e,t){e.list=t||[]})),x={getCourses:function(e){var t=e.commit;e.state;return new Promise((function(e,n){P().then((function(n){var r=n.errno,o=n.entities;0===r&&o&&t(d["b"].SET_COURSE_LIST,o),e(n)})).catch((function(e){n(e)}))}))}},H={namespaced:!0,state:D,mutations:M,actions:x};a["default"].use(c["a"]);var K=new c["a"].Store({modules:{app:p,permission:w,user:N,course:H},getters:i});t["a"]=K},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=(n("f5df"),n("5c96")),a=n.n(o),c=(n("0fae"),n("f0d9")),u=n.n(c),i=(n("b20f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),s=[],d={name:"App"},f=d,l=n("2877"),m=Object(l["a"])(f,i,s,!1,null,null,null),p=m.exports,h=n("4360"),b=n("a18c");n("223d");if(r["default"].use(a.a,{locale:u.a}),r["default"].config.productionTip=!1,!window.location.origin){var E=window.location,T=E.protocol,v=E.hostname,_=E.port;window.location.origin="".concat(T,"//").concat(v).concat(_?":".concat(_):"")}new r["default"]({el:"#app",router:b["c"],store:h["a"],render:function(e){return e(p)}})},5950:function(e,t,n){},"9fb0":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c}));var r={TOGGLE_DEVICE:"toggleDevice",LE1600:"le1600",SET_LAYOUT_LOADED:"setLayoutLoaded"},o={SET_ROUTES:"setRoutes",SET_RIGHTS:"setRouteRights"},a={SET_TOKEN:"setToken",SET_ACCOUNT:"setAccount",SET_NAME:"setName",SET_PAGE_RIGHTS:"setPageRights"},c={SET_COURSE_LIST:"setCourseList"}},a18c:function(e,t,n){"use strict";var r=n("2b0e"),o=n("8c4f"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-wrapper"},[n("app-main")],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("router-view",{key:e.key})],1)},i=[],s={name:"AppMain",computed:{key:function(){return this.$route.path}}},d=s,f=(n("d7c2"),n("2877")),l=Object(f["a"])(d,u,i,!1,null,"33025982",null),m=l.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{attrs:{id:"alive",src:e.src}})},h=[],b={name:"Alive",data:function(){return{src:"/alive"}}},E=b,T=(n("0b07"),Object(f["a"])(E,p,h,!1,null,"41d9f0c3",null)),v=(T.exports,{name:"Layout",components:{AppMain:m}}),_=v,O=Object(f["a"])(_,a,c,!1,null,null,null),g=O.exports,S="/ui",w={path:"".concat(S),component:g,redirect:"".concat(S,"/home"),meta:{breadcrumb:!1},children:[{name:"home",path:"home",component:function(){return n.e("user").then(n.bind(null,"7abe"))},meta:{title:"红色商博微党课"}},{name:"course",path:"course",component:function(){return n.e("user").then(n.bind(null,"bff8"))},meta:{title:"红色商博微党课"}},{name:"course_detail",path:"course/:id",component:function(){return n.e("user").then(n.bind(null,"c509"))},meta:{title:"红色商博微党课"}}]},j=w;n.d(t,"b",(function(){return L})),n.d(t,"d",(function(){return k})),r["default"].use(o["a"]);var R="/ui",L=[{path:"",component:g,hidden:!0,redirect:"".concat(R,"/home")},j,{name:"test",path:"/ui/test",component:function(){return n.e("user").then(n.bind(null,"feda"))},meta:{title:"红色商博微党课"}},{path:"".concat(R,"/404"),component:function(){return n.e("404").then(n.bind(null,"8cdb"))},hidden:!0}],A=function(){return new o["a"]({mode:"history",scrollBehavior:function(){return{y:0}},routes:L})},y=A();function k(){var e=A();y.matcher=e.matcher,y.baseRoute=R}y.baseRoute=R;t["c"]=y},b20f:function(e,t,n){e.exports={primaryColor:"#9E0100"}},b775:function(e,t,n){"use strict";var r=n("db72"),o=n("bc3a"),a=n.n(o),c=n("5c96"),u=n("4360"),i=n("2ef0"),s=n("9fb0"),d=a.a.create({baseURL:"/",timeout:2e4});d.interceptors.request.use((function(e){return e.headers["X-Requested-With"]="XMLHttpRequest",u["a"].getters.token&&(e.headers["x-csrf-token"]=u["a"].getters.token),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){if(204===e.status)return e.data;var t=e.data;if(t.errno&&t.errno>0){var n=t.error||"Error";return Object(c["Message"])({message:n,type:"error",duration:5e3}),Promise.reject(new Error(n))}return t}),(function(e){if(e.response&&e.response.data&&(403===e.response.status||401===e.response.status)){if(10004===e.response.data.errno)return new Promise((function(e){Object(c["MessageBox"])({title:"本次登录已经超时",message:"请重新登录，并在登录窗口关闭后继续先前的操作。",confirmButtonText:"重新登录",showClose:!1}).then((function(){var t=window.location.origin+"/relogin";window.open(t+"?"+(new Date).getTime());var n=function t(){window.removeEventListener("focus",t),u["a"].getters.layoutLoaded?e():window.location.reload()};window.addEventListener("focus",n)}))})).then((function(){var t=e.config,n=Object(r["a"])({},t);return Object(i["startsWith"])(t.url,t.baseURL)&&(n.url=t.url.substr(t.baseURL.length)),d(n)}));if(10005===e.response.data.errno){var t=e.config,n=Object(r["a"])({},t);return Object(i["startsWith"])(t.url,t.baseURL)&&(n.url=t.url.substr(t.baseURL.length)),u["a"].commit("user/".concat(s["d"].SET_TOKEN),e.response.data.entities[0]),d(n)}if(10006===e.response.data.errno)return Object(c["Message"])({message:"您无权访问，请联系管理员",type:"error",duration:5e3}),Promise.reject(e)}var o=e.response&&e.response.data&&e.response.data.error?e.response.data.error:e.message;return"取消请求"!==o&&Object(c["Message"])({message:o,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=d},d7c2:function(e,t,n){"use strict";n("5950")},e12f:function(e,t,n){}},[[0,"runtime","chunk-elementUI","chunk-libs"]]]);